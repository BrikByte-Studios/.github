name: "ðŸ“˜ RFC â€” Request for Comments"
description: |
  "Propose a significant design, architectural change, platform capability,
  or organizational process improvement."
title: "[RFC] <short summary>"
labels:
  - "type:rfc"
  - "area:architecture"
  - "area:design"
  - "status:triage"

body:
  - type: markdown
    attributes:
      value: |
        # ðŸ“˜ Request for Comments (RFC)

        RFCs are used for significant changes that require broad alignment and will
        typically produce an ADR once accepted.

        âœ… This RFC should make decision-making **easy** by clarifying:
        - Problem + constraints
        - Options + trade-offs
        - Risks + reversibility
        - Governance + approvals
        - Rollout + operational readiness

        ðŸ” Do not include secrets, credentials, or sensitive personal data.

  # -------------------------------------------------------
  # 1) RFC Metadata (Decision framing)
  # -------------------------------------------------------
  - type: input
    id: summary
    attributes:
      label: "RFC Summary"
      placeholder: "e.g., Introduce unified Feature Flag Lifecycle Governance across BrikByte products."
    validations:
      required: true

  - type: dropdown
    id: rfc_status
    attributes:
      label: "RFC Stage"
      description: "Where is this RFC in its lifecycle?"
      options:
        - "Draft"
        - "In Review"
        - "Accepted"
        - "Rejected"
        - "Implementing"
        - "Completed"
      default: 0
    validations:
      required: true

  - type: textarea
    id: decision_request
    attributes:
      label: "Decision Request (What approval means)"
      description: "State the exact decision being requested and the scope of authorization."
      placeholder: |
        Approve/reject:
        Decision boundary:
        What will change if accepted:
        What will NOT change even if accepted:
    validations:
      required: true

  - type: input
    id: reporter
    attributes:
      label: "RFC Author / Reporter"
      placeholder: "@thapelomagqazana"
    validations:
      required: true

  - type: textarea
    id: stakeholders
    attributes:
      label: "Stakeholders (RACI)"
      description: "List who owns, approves, is consulted, and informed."
      placeholder: |
        Responsible (builders):
        Accountable (final approver):
        Consulted:
        Informed:
    validations:
      required: true

  - type: textarea
    id: reviewers
    attributes:
      label: "Required Reviewers / Approvals"
      placeholder: |
        - Architecture Review Board (ARB)
        - Platform/Governance Lead
        - Security Lead (if applicable)
        - SRE
        - QA Lead
        - Product Owner (if cross-cutting)
    validations:
      required: true

  # -------------------------------------------------------
  # 2) Context (Reality today)
  # -------------------------------------------------------
  - type: textarea
    id: context
    attributes:
      label: "Context & Background"
      placeholder: |
        Current state:
        What problem/gap exists:
        Why now (incidents, scaling, cost, compliance, roadmap):
        Constraints (time, compliance, tech debt, vendor lock-in):
    validations:
      required: true

  - type: textarea
    id: problem_statement
    attributes:
      label: "Problem Statement (solution-free)"
      placeholder: |
        What is broken or suboptimal:
        Who is affected and how:
        Failure modes observed today:
        Constraints/limitations:
    validations:
      required: true

  # -------------------------------------------------------
  # 3) Goals & Non-Goals (Scope control)
  # -------------------------------------------------------
  - type: textarea
    id: goals
    attributes:
      label: "Goals"
      placeholder: |
        - Standardize X
        - Enable Y capability
        - Improve Z metric (availability, latency, governance, DX)
    validations:
      required: true

  - type: textarea
    id: non_goals
    attributes:
      label: "Non-Goals"
      placeholder: |
        - This RFC will NOT redesign...
        - This RFC will NOT change...
        - Explicit exclusions:
    validations:
      required: true

  - type: textarea
    id: success_criteria
    attributes:
      label: "Success Criteria (binary + measurable)"
      description: "What must be true for this RFC to be considered successful?"
      placeholder: |
        Must-haves:
        - ...

        Metrics targets:
        - ...

        Operational targets:
        - ...
    validations:
      required: true

  # -------------------------------------------------------
  # 4) Proposal (The recommended option)
  # -------------------------------------------------------
  - type: textarea
    id: proposal
    attributes:
      label: "Proposed Design / Solution"
      placeholder: |
        Include:
        - Architecture/design overview
        - Interfaces/APIs/contracts
        - Data model/storage changes
        - CI/CD changes
        - Security/privacy controls
        - Compatibility/deprecation approach
        - How it integrates with existing systems
    validations:
      required: true

  - type: textarea
    id: diagrams
    attributes:
      label: "Architecture Diagrams / Flows (optional)"
      placeholder: |
        High-level architecture:
        Sequence diagrams:
        Data flows:
        Threat model sketch:
    validations:
      required: false

  - type: textarea
    id: backwards_compat
    attributes:
      label: "Backward Compatibility & Deprecation Plan"
      description: "What breaks, what remains stable, and how we migrate safely."
      placeholder: |
        Compatibility guarantees:
        Deprecations:
        Versioning strategy:
        Migration path:
        Sunset timeline (if any):
    validations:
      required: true

  # -------------------------------------------------------
  # 5) Alternatives (Real trade-offs)
  # -------------------------------------------------------
  - type: textarea
    id: alternatives
    attributes:
      label: "Alternatives Considered"
      description: "At least 2 is ideal (including 'do nothing' if relevant)."
      placeholder: |
        Alternative 1:
        - Pros:
        - Cons:
        - Why rejected:

        Alternative 2:
        - Pros:
        - Cons:
        - Why rejected:
    validations:
      required: true

  - type: textarea
    id: tradeoffs
    attributes:
      label: "Trade-offs & Design Tensions"
      description: "Name the hard decisions (simplicity vs flexibility, speed vs safety, etc.)."
      placeholder: |
        Tension:
        Choice made:
        What we give up:
        Why acceptable:
    validations:
      required: true

  # -------------------------------------------------------
  # 6) Impact Analysis (People + systems + operations)
  # -------------------------------------------------------
  - type: textarea
    id: impact_analysis
    attributes:
      label: "Impact Analysis"
      placeholder: |
        Affected services/modules:
        Developer workflow/DX impact:
        CI/CD impact:
        QA/TestOps impact:
        SRE/On-call impact:
        Compliance/security impact:
        DocsOps/training needs:
        Customer impact (if any):
    validations:
      required: true

  - type: dropdown
    id: risk_level
    attributes:
      label: "Risk Level"
      options:
        - "High â€” large blast radius / hard to rollback"
        - "Medium â€” manageable risk"
        - "Low â€” localized / easily reversible"
    validations:
      required: true

  # -------------------------------------------------------
  # 7) Security, Privacy, Compliance (donâ€™t skip)
  # -------------------------------------------------------
  - type: textarea
    id: security_privacy
    attributes:
      label: "Security / Privacy / Compliance Considerations"
      placeholder: |
        Data classification (PII/PHI/secrets/none):
        Threat model (abuse cases):
        AuthN/AuthZ impacts:
        Logging/telemetry safety:
        Compliance (POPIA/GDPR/SOC2/etc.):
        Security review needed? (Y/N):
    validations:
      required: true

  # -------------------------------------------------------
  # 8) Rollout, Migration, Reversibility (safe change)
  # -------------------------------------------------------
  - type: textarea
    id: rollout_plan
    attributes:
      label: "Migration / Rollout Strategy"
      placeholder: |
        Phases (Phase 0/1/2...):
        Feature flag gating:
        Backward-compat strategy:
        Data migration/backfill:
        Canary / staged rollout:
        Rollback plan:
        Kill-switch/off-switch:
    validations:
      required: true

  - type: textarea
    id: failure_modes
    attributes:
      label: "Failure Modes & Recovery"
      description: "How this can fail, how we detect it, and how we recover."
      placeholder: |
        Failure mode:
        Detection signal:
        Containment:
        Recovery/rollback:
    validations:
      required: true

  - type: textarea
    id: observability_plan
    attributes:
      label: "Observability & Operational Readiness"
      placeholder: |
        Metrics/SLIs:
        Alerts:
        Dashboards:
        Logs/traces:
        Runbooks needed/updated:
        On-call training notes:
    validations:
      required: true

  # -------------------------------------------------------
  # 9) Cost, Dependencies, Open Questions (execution reality)
  # -------------------------------------------------------
  - type: dropdown
    id: effort_estimate
    attributes:
      label: "Effort Estimate"
      options:
        - "S (â‰¤1 week)"
        - "M (1â€“3 weeks)"
        - "L (3â€“6 weeks)"
        - "XL (>6 weeks)"
    validations:
      required: true

  - type: textarea
    id: dependencies
    attributes:
      label: "Dependencies & Blockers"
      placeholder: |
        Depends on:
        Blocks:
        Cross-team coordination:
        Vendor/external dependency:
    validations:
      required: false

  - type: textarea
    id: open_questions
    attributes:
      label: "Open Questions (must resolve before acceptance)"
      placeholder: |
        - Question:
          Owner:
          Needed by:
    validations:
      required: false

  # -------------------------------------------------------
  # 10) Governance & Traceability (BrikByteOS hooks)
  # -------------------------------------------------------
  - type: textarea
    id: governance
    attributes:
      label: "Governance & Traceability"
      placeholder: |
        ADR to create:
        Policies impacted (GOV-POLICY-*):
        REQ-* to create/update:
        Test strategy / TC-* impacts:
        RTM rows affected:
        CI rulesets / quality gates:
    validations:
      required: false

  # -------------------------------------------------------
  # 11) Preflight
  # -------------------------------------------------------
  - type: checkboxes
    id: checklist
    attributes:
      label: "Pre-Submission Checklist"
      options:
        - label: "Decision request is explicit (what approval means)."
          required: true
        - label: "Problem/context/goals/non-goals are clear."
          required: true
        - label: "At least two alternatives were evaluated with trade-offs."
          required: true
        - label: "Rollout + rollback + failure modes are documented."
          required: true
        - label: "Security/privacy/compliance considerations are addressed."
          required: true
        - label: "Operational readiness (alerts/runbooks/SLIs) is included."
          required: true
        - label: "No sensitive or personal data is included."
          required: true