name: "ðŸ§° Task / Work Item"
description: "Plan, implement, and govern a concrete engineering work item."
title: "[TASK] <concise, action-oriented summary>"
labels:
  - "type:task"
  - "status:triage"

body:
  - type: markdown
    attributes:
      value: |
        ðŸ‘‹ Welcome to BrikByte Studios Engineering.

        Use this template for **well-scoped, sprint-sized work items**:
        - Feature slices, bug fixes, refactors, platform improvements, enablement work

        â›” If this item exceeds **5 days**, split it or create an Epic.

        ðŸ” Do not include secrets, credentials, or personal data.

  # --- 1) Intent (Why) ---
  - type: textarea
    id: summary
    attributes:
      label: "Task Summary (Executive)"
      description: "One paragraph: what, why, outcome."
      placeholder: |
        What is being done?
        Why is it needed now?
        What measurable outcome is expected?
    validations:
      required: true

  - type: textarea
    id: problem_statement
    attributes:
      label: "Problem Statement"
      description: "Describe the current pain/failure mode in concrete terms."
      placeholder: |
        Current behavior:
        Who is affected:
        Evidence (logs, metrics, user reports):
        Why it matters (cost/risk/delay):
    validations:
      required: true

  - type: textarea
    id: objective
    attributes:
      label: "Objective (Outcome)"
      description: "What will be measurably better after this task?"
      placeholder: |
        After this task:
        - Capability added:
        - Risk reduced:
        - Constraint improved (speed, reliability, cost, compliance):
    validations:
      required: true

  # --- 2) Classification (What kind of work) ---
  - type: dropdown
    id: task_type
    attributes:
      label: "Work Classification (type:*)"
      options:
        - "type:feature"
        - "type:improvement"
        - "type:bug"
        - "type:refactor"
        - "type:chore"
        - "type:spike"
        - "type:docs"
        - "type:test"
        - "type:governance"
      default: 0
    validations:
      required: true

  - type: input
    id: project
    attributes:
      label: "Project / Platform (proj/*)"
      placeholder: "proj/brikbyteos, proj/stackcraft-ts, proj/cargopulse"
    validations:
      required: true

  - type: input
    id: area
    attributes:
      label: "Primary Domain / Area (area:*)"
      placeholder: "area:auth, area:ci-cd, area:billing, area:evidence"
    validations:
      required: true

  - type: input
    id: phase
    attributes:
      label: "Delivery Phase (phase/*)"
      placeholder: "phase/foundation, phase/hardening, phase/enterprise"
    validations:
      required: false

  # --- 3) Impact, Priority, Size (Triage discipline) ---
  - type: dropdown
    id: impact
    attributes:
      label: "Impact"
      options:
        - "High â€” customer/prod risk or major capability"
        - "Medium â€” noticeable improvement / important debt"
        - "Low â€” localized / internal"
    validations:
      required: true

  - type: dropdown
    id: priority
    attributes:
      label: "Priority"
      options:
        - "P0 â€” Production Blocker"
        - "P1 â€” Critical"
        - "P2 â€” Important"
        - "P3 â€” Nice-to-have"
    validations:
      required: true

  - type: dropdown
    id: size
    attributes:
      label: "Estimated Size"
      options:
        - "XS (â‰¤1 day)"
        - "S (1â€“2 days)"
        - "M (2â€“3 days)"
        - "L (3â€“5 days)"
        - "XL (>5 days â€” split)"
    validations:
      required: true

  - type: input
    id: estimate
    attributes:
      label: "Numeric Estimate"
      placeholder: "5 pts, 12h"
    validations:
      required: false

  # --- 4) Ownership & Traceability (Accountability + links) ---
  - type: input
    id: owner
    attributes:
      label: "Primary Owner"
      placeholder: "@platform-lead"
    validations:
      required: true

  - type: input
    id: reporter
    attributes:
      label: "Reporter"
      placeholder: "@thapelomagqazana"
    validations:
      required: true

  - type: dropdown
    id: parent_type
    attributes:
      label: "Work Hierarchy"
      options:
        - "Standalone"
        - "Epic"
        - "Feature"
        - "Defect"
        - "Governance"
      default: 0
    validations:
      required: true

  - type: input
    id: parent_ref
    attributes:
      label: "Parent Reference"
      placeholder: "#123, EPIC-004"
    validations:
      required: false

  - type: textarea
    id: references
    attributes:
      label: "References (links)"
      description: "Anything that proves context: incidents, docs, ADRs, designs, customer tickets."
      placeholder: |
        Docs:
        ADR:
        Incident:
        Customer ticket:
        Related PRs:
    validations:
      required: false

  # --- 5) Scope Control (Stop task creep) ---
  - type: textarea
    id: scope
    attributes:
      label: "Scope (In / Out)"
      description: "Be explicit. This keeps it sprint-sized."
      placeholder: |
        In scope:
        - ...
        Out of scope / non-goals:
        - ...
        Assumptions:
        - ...
        Constraints:
        - ...
    validations:
      required: true

  # --- 6) Acceptance Criteria (What â€˜doneâ€™ means) ---
  - type: textarea
    id: acceptance_criteria
    attributes:
      label: "Acceptance Criteria"
      description: "Binary, testable statements. Avoid vague wording."
      placeholder: |
        - [ ] Given <context>, when <action>, then <expected outcome>
        - [ ] Error handling: <what must happen on failure>
        - [ ] Backward compatibility preserved (if applicable)
        - [ ] No breaking changes without version bump/migration
    validations:
      required: true

  - type: textarea
    id: success_metrics
    attributes:
      label: "Success Criteria / KPIs (optional but preferred)"
      placeholder: |
        - Latency p95 < X ms
        - Error rate < Y%
        - Coverage â‰¥ Z%
        - Manual steps eliminated: N â†’ 0
    validations:
      required: false

  # --- 7) Deliverables (Artifacts checklist) ---
  - type: textarea
    id: deliverables
    attributes:
      label: "Deliverables"
      placeholder: |
        - [ ] Code merged
        - [ ] Tests added/updated
        - [ ] Docs updated
        - [ ] Observability updated (dashboards/alerts)
        - [ ] Evidence attached (logs/screenshots/results)
    validations:
      required: true

  # --- 8) Technical Approach (How) ---
  - type: textarea
    id: technical_plan
    attributes:
      label: "Technical Approach"
      placeholder: |
        Architecture sketch:
        Affected services/modules:
        APIs/contracts:
        Data changes:
        Migration strategy:
        Backward compatibility:
    validations:
      required: false

  - type: textarea
    id: dependencies
    attributes:
      label: "Dependencies (rel/*)"
      placeholder: |
        rel/depends-on: #234
        rel/blocks: #456
        rel/related: #789
    validations:
      required: false

  # --- 9) Test Plan / Scenarios (Proof) ---
  - type: textarea
    id: test_plan
    attributes:
      label: "Test Plan / Scenarios"
      description: "How you will validate + what evidence will be produced."
      placeholder: |
        Testing levels:
        - Unit:
        - Integration:
        - E2E:
        - Manual QA / UAT:

        Core scenarios:
        - âœ… Positive:
        - âŒ Negative (fail safely):
        - âš ï¸ Edge:
        - ðŸ§¨ Corner:

        Non-functional (if relevant):
        - Security:
        - Performance:
        - Reliability:
        - Rollback verification (must be explicit):

        Evidence (required):
        - Test IDs/files:
        - Run logs:
        - Screenshots/recordings:
    validations:
      required: true

  # --- 10) Rollout & Observability (Ship safely) ---
  - type: textarea
    id: rollout
    attributes:
      label: "Rollout Plan"
      description: "How this change is shipped with control."
      placeholder: |
        Deployment strategy (flag/canary/phased):
        Rollback trigger:
        Rollback steps:
        Data rollback (if any):
    validations:
      required: false

  - type: textarea
    id: observability
    attributes:
      label: "Observability Plan"
      description: "What will you watch in prod to confirm success?"
      placeholder: |
        Metrics:
        Logs:
        Traces:
        Dashboards:
        Alerts:
    validations:
      required: false

  # --- 11) Governance, Risk, Compliance (Trust) ---
  - type: textarea
    id: governance
    attributes:
      label: "Governance & Compliance"
      placeholder: |
        ADRs:
        Policies:
        RTM links:
        Audit refs:
        Data privacy considerations (PII/POPIA):
    validations:
      required: false

  - type: textarea
    id: risks
    attributes:
      label: "Risks & Failure Modes"
      placeholder: |
        Technical:
        Product:
        Operational:
        Security:
    validations:
      required: false

  - type: textarea
    id: mitigations
    attributes:
      label: "Mitigation & Rollback Plan"
      placeholder: |
        Feature flags:
        Canary:
        Backward compatibility:
        Rollback steps:
        Observability hooks:
    validations:
      required: false

  # --- 12) Evidence & Implementation Links ---
  - type: textarea
    id: evidence
    attributes:
      label: "Evidence & Artefacts"
      placeholder: |
        PR:
        Commit(s):
        CI run:
        Logs:
        Screenshots:
        Benchmarks:
        Test run links:
    validations:
      required: false

  - type: input
    id: implementation_ref
    attributes:
      label: "PR / Commit"
      placeholder: "#456, abc123"
    validations:
      required: false

  # --- 13) Future Enhancements (Intentional leftovers) ---
  - type: textarea
    id: future_enhancements
    attributes:
      label: "Future Enhancements / Expansion (Out of Scope)"
      placeholder: |
        - Follow-up improvements:
        - Architectural evolutions:
        - Product extensions:
        - If large, create Epic and reference here.
    validations:
      required: false

  # --- 14) Preflight (Hard gate before work starts) ---
  - type: checkboxes
    id: preflight
    attributes:
      label: "Preflight Validation"
      options:
        - label: "Scope is clearly defined (in/out)"
          required: true
        - label: "Task is sprint-sized (â‰¤5 days) or split planned"
          required: true
        - label: "Acceptance criteria are binary/testable"
          required: true
        - label: "Dependencies identified or explicitly none"
          required: true
        - label: "Test plan includes negative + rollback verification"
          required: true
        - label: "No sensitive data included"
          required: true